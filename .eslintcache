[{"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\index.js":"1","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\App.js":"2","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\reportWebVitals.js":"3","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\router\\router.js":"4","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\mybook.js":"5","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\detail.js":"6","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\index.js":"7","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\login.js":"8","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\api\\api.js":"9","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\book.js":"10","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\row.js":"11","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\header.js":"12","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\detail.js":"13","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\load.js":"14","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\search.js":"15","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\api\\index.js":"16","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\searchInput.js":"17","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\api\\request.js":"18","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\address.js":"19","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\myLend.js":"20","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\message.js":"21","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\mesMgr.js":"22","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\search.js":"23","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\lendBook.js":"24"},{"size":563,"mtime":1608303524048,"results":"25","hashOfConfig":"26"},{"size":683,"mtime":1608453600607,"results":"27","hashOfConfig":"26"},{"size":362,"mtime":499162500000,"results":"28","hashOfConfig":"26"},{"size":975,"mtime":1608625562127,"results":"29","hashOfConfig":"26"},{"size":16223,"mtime":1608780361210,"results":"30","hashOfConfig":"26"},{"size":1283,"mtime":1608600129451,"results":"31","hashOfConfig":"26"},{"size":4485,"mtime":1608703360721,"results":"32","hashOfConfig":"26"},{"size":8920,"mtime":1608535005977,"results":"33","hashOfConfig":"26"},{"size":2949,"mtime":1608776744722,"results":"34","hashOfConfig":"26"},{"size":2441,"mtime":1608612204864,"results":"35","hashOfConfig":"26"},{"size":734,"mtime":1608278947361,"results":"36","hashOfConfig":"26"},{"size":4674,"mtime":1608624055350,"results":"37","hashOfConfig":"26"},{"size":9154,"mtime":1608626871001,"results":"38","hashOfConfig":"26"},{"size":470,"mtime":1608449839586,"results":"39","hashOfConfig":"26"},{"size":629,"mtime":1608616685063,"results":"40","hashOfConfig":"26"},{"size":584,"mtime":1608445634636,"results":"41","hashOfConfig":"26"},{"size":1191,"mtime":1608616966332,"results":"42","hashOfConfig":"26"},{"size":1417,"mtime":1608445829010,"results":"43","hashOfConfig":"26"},{"size":6806,"mtime":1608609169263,"results":"44","hashOfConfig":"26"},{"size":7515,"mtime":1608776827642,"results":"45","hashOfConfig":"26"},{"size":6743,"mtime":1608626290739,"results":"46","hashOfConfig":"26"},{"size":6137,"mtime":1608605119129,"results":"47","hashOfConfig":"26"},{"size":1171,"mtime":1608618296035,"results":"48","hashOfConfig":"26"},{"size":4445,"mtime":1608776236552,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"3v1jeo",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"52"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"52"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"52"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"52"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"52"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"52"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"52"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"101","messages":"102","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"52"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"52"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\index.js",[],["111","112"],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\App.js",[],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\reportWebVitals.js",[],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\router\\router.js",[],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\mybook.js",["113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129"],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\detail.js",["130"],"import React, { Component } from 'react'\r\n// import '../assets/css/book.css'\r\n// import {\r\n//     Link\r\n// } from 'react-router-dom';\r\nimport { BookDetail } from '../components/detail'\r\nimport { SearchBook } from '../components/search'\r\nimport { Breadcrumb } from 'element-react';\r\nimport { Headers } from '../components/header'\r\nimport { getBookDetail } from '../api/api'\r\nexport class Details extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            msg: '',\r\n            id:this.props.match.params.id,\r\n            detail:{},\r\n            user:{}\r\n        }\r\n    }\r\n    componentDidMount=()=>{\r\n        this.getDetail()\r\n    }\r\n    getDetail=()=>{\r\n        getBookDetail({id:this.state.id}).then(res=>{\r\n            this.setState({\r\n                detail:res.data,\r\n                user:res.data.user\r\n            })\r\n        })\r\n    }\r\n    // 点击搜索\r\n    getKey = (e) => {\r\n        console.log(e)\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Headers mes={()=>{console.log(666)}}></Headers>\r\n                <SearchBook getKey={this.getKey}></SearchBook>\r\n                <BookDetail detail={this.state.detail} user={this.state.user}></BookDetail>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\index.js",["131","132","133","134","135","136","137","138","139"],"import React, { Component } from 'react'\r\nimport {\r\n    Link\r\n} from 'react-router-dom';\r\n// import { BrowserRouter as Router } from 'react-router-dom'\r\nimport \"../assets/css/index.css\"\r\n\r\nimport { Menu, Input, Button, Breadcrumb, Carousel } from 'element-react';\r\n// import { RouterView } from '../router/router';\r\nimport b1 from '../assets/img/banner1.jpg'\r\nimport b2 from '../assets/img/banner2.jpg'\r\nimport {getBook,getComments,isbn} from '../api/api.js'\r\nimport {Load} from '../components/load'\r\n// import install from './api/install';\r\nimport jsonp from 'jsonp'\r\nimport { Headers } from '../components/header'\r\n// import fetchJsonp from 'fetch-jsonp';\r\n\r\nimport { Book } from '../components/book'\r\nimport { RowLayout } from '../components/row'\r\nimport axios from 'axios'  \r\nexport class Index extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            list:[],\r\n            page:1,\r\n            limit:20,\r\n            flag:true,\r\n            banner: [b1, b2]\r\n        }\r\n    }\r\n    componentDidMount=()=>{\r\n        this.getList()\r\n    }\r\n    getData = () => {\r\n        var api = 'http://book.feelyou.top/isbn/9787506380263'\r\n      }\r\n    downs=()=>{\r\n        axios.get('http://localhost:3000/book/api/exportexcel', { //downloadFiles 接口请求地址\r\n        responseType:'blob'\r\n    }).then((rs) => {\r\n        const blob = new Blob([rs.data], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" })\r\n        const fileName = \"站内所有可借阅的图书.xlsx\";\r\n        if ('download' in document.createElement('a')) { // 非IE下载\r\n            const elink = document.createElement('a');\r\n            elink.download = fileName;\r\n            elink.style.display = 'none';\r\n            elink.href = URL.createObjectURL(blob);\r\n            document.body.appendChild(elink);\r\n            elink.click();\r\n            URL.revokeObjectURL(elink.href);// 释放 URL对象\r\n            document.body.removeChild(elink);\r\n        }\r\n    }).catch((error) => {\r\n        console.log('文件下载失败', error);\r\n    });\r\n    }\r\n    getList=()=>{\r\n        getBook({\r\n            limit:this.state.limit,\r\n            page:this.state.page\r\n        }).then(res=>{\r\n            if(res.data.length>0){\r\n                if(res.data.length<this.state.limit){\r\n                    this.setState({\r\n                        flag:false\r\n                    })\r\n                }\r\n                let page=this.state.page+1;\r\n                let list=this.state.list.concat(res.data)\r\n                this.setState({\r\n                    page,\r\n                    list\r\n                })\r\n                \r\n            }\r\n            else{\r\n                this.setState({\r\n                    flag:false\r\n                })\r\n            }\r\n        })\r\n    }\r\n    getMore=()=>{\r\n        this.getList()\r\n    }\r\n    // 点击搜索\r\n    getKeyWord = (e) => {\r\n        console.log(e)\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <Headers index=\"1\" mes={()=>{console.log(666)}}></Headers>\r\n                    <RowLayout>\r\n                        <Carousel interval=\"5000\" height=\"500px\" arrow=\"always\">\r\n                            {\r\n                                this.state.banner.map((item, index) => {\r\n                                    return (\r\n                                        <Carousel.Item key={index}>\r\n                                            <img className=\"banner-img\" src={item}></img>\r\n                                        </Carousel.Item>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Carousel>\r\n                        <div className=\"title\">最新图书\r\n                        <Button type=\"primary\" className=\"downBook\" onClick={this.downs}>下载所有可借阅的图书</Button>\r\n                        </div>\r\n                    <Book list={this.state.list}></Book>\r\n                    <Load status={this.state.flag} getMore={this.getMore}></Load>\r\n                    </RowLayout>\r\n                </div>\r\n                        \r\n            </div>\r\n        )\r\n    }\r\n    // 注册\r\n    register = () => {\r\n\r\n    }\r\n    login = () => {\r\n\r\n    }\r\n    changeRoute(path) {\r\n        console.log(path)\r\n        return path\r\n    }\r\n    inputChange = (e) => {\r\n        this.setState({\r\n            msg: e.target.value\r\n        })\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\login.js",["140","141"],"import React, { Component } from 'react'\r\nimport { Form, Input, Button ,Message} from 'element-react';\r\nimport '../assets/css/login.css'\r\nimport {login,registered} from '../api/api'\r\nimport {\r\n    browserHistory\r\n} from 'react-router-dom';\r\nexport class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            form: {\r\n                pass: '',\r\n                checkPass: '',\r\n                status:1,\r\n                email: '',\r\n                account:'',\r\n                password:''\r\n            },\r\n            rules: {\r\n                account:[  { required: true, message: '请输入账户', trigger: 'blur' }],\r\n                password:[  { required: true, message: '请输入密码', trigger: 'blur' }],\r\n                pass: [\r\n                    { required: true, message: '请输入密码', trigger: 'blur' },\r\n                    {\r\n                        validator: (rule, value, callback) => {\r\n                            if (value === '') {\r\n                                callback(new Error('请输入密码'));\r\n                            } else {\r\n                                if (this.state.form.checkPass !== '') {\r\n                                    this.refs.form.validateField('checkPass');\r\n                                }\r\n                                callback();\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                checkPass: [\r\n                    { required: true, message: '请再次输入密码', trigger: 'blur' },\r\n                    {\r\n                        validator: (rule, value, callback) => {\r\n                            if (value === '') {\r\n                                callback(new Error('请再次输入密码'));\r\n                            } else if (value !== this.state.form.pass) {\r\n                                callback(new Error('两次输入密码不一致!'));\r\n                            } else {\r\n                                callback();\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                email: [\r\n                    { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n                    { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur,change' }\r\n                  ],\r\n                age: [\r\n                    { required: true, message: '请填写年龄', trigger: 'blur' },\r\n                    {\r\n                        validator: (rule, value, callback) => {\r\n                            var age = parseInt(value, 10);\r\n\r\n                            setTimeout(() => {\r\n                                if (!Number.isInteger(age)) {\r\n                                    callback(new Error('请输入数字值'));\r\n                                } else {\r\n                                    if (age < 18) {\r\n                                        callback(new Error('必须年满18岁'));\r\n                                    } else {\r\n                                        callback();\r\n                                    }\r\n                                }\r\n                            }, 1000);\r\n                        }, trigger: 'change'\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n    }\r\n    onEmailChange(value) {\r\n        this.setState({\r\n          form: Object.assign({}, this.state.form, { email: value})\r\n        });\r\n      }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.refs.form.validate((valid) => {\r\n            if (valid) {\r\n                console.log(this.state.form)\r\n                login(this.state.form).then(res=>{\r\n                    console.log(res)\r\n                    if(res.data.code==0){\r\n                        Message({\r\n                            message: '登录成功',\r\n                            type: 'success'\r\n                          });\r\n                        localStorage.setItem('userInfo',JSON.stringify(res.data))\r\n                        this.props.history.push({pathname: '/'})\r\n\r\n                    }else{\r\n                        Message.error(res.data.message);\r\n                    }\r\n                })\r\n                // alert('submit!');\r\n            } else {\r\n                console.log('error submit!!');\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    handleReset(e) {\r\n        e.preventDefault();\r\n\r\n        this.refs.form.resetFields();\r\n    }\r\n    handleRegirest(e) {\r\n        e.preventDefault();\r\n        this.refs.form.validate((valid) => {\r\n            if (valid) {\r\n                let form=Object.assign({},this.state.form);\r\n                let temp={\r\n                    user_name:form.name,\r\n                    account:form.email,\r\n                    password:form.pass\r\n                }\r\n                registered(temp).then(res=>{\r\n                   \r\n                        Message({\r\n                            message: '注册成功',\r\n                            type: 'success'\r\n                          });\r\n                          this.setState({\r\n                            status:1\r\n                          })\r\n\r\n                    // }else{\r\n                    //     Message.error(res.data.message);\r\n                    // }\r\n                })\r\n                // alert('submit!');\r\n            } else {\r\n                console.log('error submit!!');\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n    onChange(key, value) {\r\n        this.setState({\r\n            form: Object.assign({}, this.state.form, { [key]: value })\r\n        });\r\n    }\r\n    activeTab=(e)=>{\r\n        this.setState({\r\n            status:e\r\n        })\r\n\r\n    }\r\n    render() {\r\n        var html,form;\r\n        if(this.state.status===2){\r\n            html=(\r\n                <div className=\"tab-line\"></div>\r\n            )\r\n            form=(\r\n                <Form ref=\"form\" model={this.state.form} rules={this.state.rules} labelWidth=\"100\" className=\"demo-ruleForm\">\r\n                 <Form.Item prop=\"email\" label=\"邮箱\">\r\n                      <Input value={this.state.form.email} onChange={this.onEmailChange.bind(this)}></Input>\r\n                </Form.Item>\r\n                <Form.Item prop=\"name\" label=\"昵称\">\r\n                      <Input value={this.state.form.name} onChange={this.onChange.bind(this, 'name')}></Input>\r\n                </Form.Item>\r\n                <Form.Item label=\"密码\" prop=\"pass\">\r\n                    <Input type=\"password\" value={this.state.form.pass} onChange={this.onChange.bind(this, 'pass')} autoComplete=\"off\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"确认密码\" prop=\"checkPass\">\r\n                    <Input type=\"password\" value={this.state.form.checkPass} onChange={this.onChange.bind(this, 'checkPass')} autoComplete=\"off\" />\r\n                </Form.Item>\r\n                <div className=\"login-btn\">\r\n                <Form.Item>\r\n                    <Button type=\"primary\" onClick={this.handleRegirest.bind(this)}>注册</Button>\r\n                    <Button onClick={this.handleReset.bind(this)}>重置</Button>\r\n                </Form.Item>\r\n                </div>\r\n            </Form>\r\n            )\r\n        }else{\r\n            html=(\r\n                <div className=\"active\"></div>\r\n            )\r\n            form=(\r\n                <Form ref=\"form\" model={this.state.form} rules={this.state.rules} labelWidth=\"100\" className=\"demo-ruleForm\">\r\n                  <Form.Item label=\"账户/邮箱\" prop=\"account\">\r\n                    <Input  value={this.state.form.account} onChange={this.onChange.bind(this, 'account')} autoComplete=\"off\" />\r\n                 </Form.Item>\r\n                <Form.Item label=\"密码\" prop=\"password\">\r\n                    <Input type=\"password\" value={this.state.form.password} onChange={this.onChange.bind(this, 'password')} autoComplete=\"off\" />\r\n                </Form.Item>\r\n                <div className=\"login-btn\">\r\n                <Form.Item>\r\n                    <Button type=\"primary\" onClick={this.handleSubmit.bind(this)}>登录</Button>\r\n                    <Button onClick={this.handleReset.bind(this)}>重置</Button>\r\n                </Form.Item>\r\n                </div>\r\n            </Form>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"login-w\">\r\n                    <div className=\"tab-list\">\r\n                        <div className=\"tab1\" onClick={this.activeTab.bind(this,1)}>\r\n                            登录\r\n                        </div>\r\n                        <div className=\"tab2\"  onClick={this.activeTab.bind(this,2)}>注册</div>\r\n                       {html}\r\n                    </div>\r\n                   {form}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\api\\api.js",[],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\book.js",["142","143","144"],"import React, { Component } from 'react'\r\nimport '../assets/css/book.css'\r\nimport img from '../assets/img.jpg'\r\nimport {\r\n    Link\r\n} from 'react-router-dom';\r\n\r\n\r\nimport { Layout, Card,Breadcrumb } from 'element-react';\r\nimport { BOOLEAN_BINARY_OPERATORS } from '@babel/types';\r\nexport class Book extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            msg: '',\r\n          \r\n        }\r\n    }\r\n    render() {\r\n        let bookList;\r\n        if(this.props.list.length>0){\r\n            bookList=(\r\n                this.props.list.map((item) => {\r\n                    return (\r\n                        <Link to={'/Details/'+item.id}>\r\n                        <div className=\"book-list-item\">\r\n                            <Card bodyStyle={{ padding: 0 }}>\r\n                                <img src={'http://localhost:3000'+item.img_url} alt=\"加载失败\" className=\"book-img\" />\r\n                                <div style={{ padding: 14 }}>\r\n                                    <span>{item.book_name}</span>\r\n                                    <div className=\"bottom clearfix\">\r\n                                      <time className=\"time\">作者：{item.author}</time>\r\n                                        {/* <Button type=\"text\" className=\"button\">操作按钮</Button> */}\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                        </div>\r\n                        </Link>\r\n                    )\r\n                })\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                        <div className=\"book\">\r\n                            <div className=\"book-list\">\r\n                                {\r\n                                   bookList\r\n                                }\r\n                                <i className=\"null\"></i>\r\n                                <i className=\"null\"></i>\r\n                                <i className=\"null\"></i>  \r\n                                <i className=\"null\"></i>\r\n                                <i className=\"null\"></i>\r\n                                <i className=\"null\"></i>\r\n                            </div>\r\n                        </div>\r\n            </div>\r\n          \r\n        )\r\n    }\r\n\r\n    inputChange = (e) => {\r\n        this.setState({\r\n            msg: e.target.value\r\n        })\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\row.js",[],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\header.js",["145","146"],"import React, { Component } from 'react'\r\nimport { Menu, MessageBox, Button } from 'element-react';\r\nimport './header.css'\r\nimport {\r\n    browserHistory,\r\n    Link\r\n} from 'react-router-dom';\r\n\r\nimport { getmessage } from '../api/api'\r\nimport { SearchInput } from './searchInput'\r\nexport class Headers extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            meslist: [],\r\n            flag:false\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        if(localStorage.getItem('userInfo')){\r\n            let user = JSON.parse(localStorage.getItem('userInfo')).user;\r\n            getmessage({ uid: user.id }).then(res => {\r\n                this.setState({\r\n                    meslist: res.data.a.concat(res.data.b)\r\n                })\r\n            })\r\n        }\r\n    }\r\n    toMes=()=>{\r\n        // this.props.history.push({pathname: '/'})\r\n        this.props.mes()\r\n    }\r\n    getKeyWord=()=>{\r\n\r\n    }\r\n    logouts(e){\r\n        e.stopPropagation()\r\n        localStorage.clear()\r\n        this.forceUpdate();\r\n    }\r\n    outLog=()=>{\r\n        \r\n        this.setState({\r\n            flag:true\r\n        })\r\n    }\r\n    onSelect = (e) => {\r\n\r\n    }\r\n    closebgm(e){\r\n        // stoppropagation()\r\n        e.stopPropagation()\r\n        this.setState({\r\n            flag:false\r\n        })\r\n    }\r\n    render() {\r\n        let user = localStorage.getItem('userInfo'), html,logout;\r\n        if(this.state.flag){\r\n            logout=(\r\n                <div className=\"showout\" onClick={this.closebgm.bind(this)}> <Link to=\"/\"><Button className=\"showout-btn\" onClick={this.logouts.bind(this)}>退出登录</Button></Link></div>\r\n            )\r\n        }else{\r\n            logout=(<div></div>)\r\n        }\r\n        if (user) {\r\n            let info = JSON.parse(user)\r\n            html = (\r\n                <span>\r\n                    <span className=\"log\" onClick={this.toMes}>\r\n                    <Link to='/About/5' className=\"flex-row\">\r\n                   <svg t=\"1608539531946\" class=\"icon-mes\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1223\" width=\"35\" height=\"35\"><path d=\"M799.9 681.3c7-0.2 14 1.2 20.7 5.6-24.3-15.6-40.3-42.8-40.3-73.9V439.5c0-127.1-91.9-233.2-214.7-259.3V174c0-32.4-26.2-58.5-58.5-58.5s-58.5 26.2-58.5 58.5v6.2c-122.8 26.1-214.7 132.1-214.7 259.3V613c0 31.1-16.1 58.3-40.3 73.9 6.8-4.4 13.7-5.9 20.7-5.6-21.5 0.1-38.9 17.4-38.9 39s17.4 39 39 39h585.3c21.6 0 39-17.4 39-39 0.1-21.4-17.3-38.9-38.8-39zM507.2 896c53.9 0 97.6-43.7 97.6-97.6H409.6c0 53.9 43.6 97.6 97.6 97.6z\" p-id=\"1224\" fill=\"#ffffff\"></path></svg>\r\n                        <div className=\"mes-num\">\r\n                         {this.state.meslist.length}\r\n                        </div>\r\n                    </Link>\r\n                     &nbsp;&nbsp;&nbsp; </span>\r\n                    <span className=\"reg\" onClick={this.outLog}>\r\n                        {info.user.name}</span>\r\n                        {logout}\r\n                </span>\r\n            )\r\n        } else {\r\n            html = (\r\n                <span>\r\n                    <span className=\"log\">\r\n                        <Link to={this.changeRoute('/login')}>登录</Link> &nbsp;&nbsp;&nbsp;| </span>\r\n                    <span className=\"reg\">\r\n                        <Link to={this.changeRoute('/login')}>注册</Link></span>\r\n                </span>\r\n            )\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"el-menu-demo\">\r\n                    <Menu theme=\"dark\" defaultActive={this.props.index} mode=\"horizontal\" onSelect={this.onSelect.bind(this)}>\r\n                        <Link to={this.changeRoute('/')}> <Menu.Item index=\"1\" className=\"name\">首页</Menu.Item></Link>\r\n                        <Link to={this.changeRoute('/About/1')}> <Menu.Item index=\"3\" className=\"mybook\">个人中心</Menu.Item></Link>\r\n                        <div className=\"search-inputs\">\r\n                            <SearchInput  parentFn={this.getKeyWord}></SearchInput>\r\n                        </div>\r\n                        <div className=\"login-text\">\r\n                            {html}\r\n                        </div>\r\n                    </Menu>\r\n                </div>\r\n                <div className=\"h60\"></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    changeRoute(path) {\r\n        // if(path=='/About'&&!localStorage.getItem('userInfo')){\r\n        //     MessageBox.confirm('您还没登录，是否去登录?', '提示', {\r\n        //         type: 'warning'\r\n        //       }).then(() => {\r\n\r\n        //       }).catch(() => {\r\n\r\n        //       });\r\n        // }\r\n        return path\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\detail.js",["147","148","149","150","151","152"],"import React, { Component } from 'react'\r\nimport {\r\n    Link\r\n} from 'react-router-dom';\r\nimport { RowLayout } from './row'\r\nimport img from '../assets/img.jpg'\r\nimport { Card, Button, Breadcrumb,Radio, Dialog,MessageBox, Form, Input, Notification, Select } from 'element-react';\r\nimport '../assets/css/detail.css';\r\nimport { addOrders, getUserAddress } from '../api/api'\r\nexport class BookDetail extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            form: {\r\n                name: '',\r\n                tell: '',\r\n                sex: 1,\r\n                address: '',\r\n                lend_remark: ''\r\n            },\r\n            sex:1,\r\n            addressList: [],\r\n            dialogVisible: false\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n      \r\n    }\r\n    lendBook = () => {\r\n        let user = localStorage.getItem('userInfo')\r\n        if(!user){\r\n            MessageBox.confirm('您还没登录，请先登录?', '提示', {\r\n                cancelButtonText: '返回',\r\n                confirmButtonText: '确定',\r\n                type: 'warning'\r\n            }).then(() => {\r\n               \r\n            }).catch(() => {\r\n               \r\n            });\r\n            return\r\n        }\r\n        this.getList()\r\n        this.setState({\r\n            dialogVisible: true\r\n        })\r\n    }\r\n    getList() {\r\n        let user = JSON.parse(localStorage.getItem('userInfo'))\r\n        getUserAddress({\r\n            userID: user.user.id\r\n        }).then(res => {\r\n            console.log(res)\r\n            this.setState({\r\n                addressList: res.data\r\n            })\r\n        })\r\n    }\r\n    submit = () => {\r\n        if( JSON.parse(localStorage.getItem('userInfo')).user.id==this.props.detail.user_id){\r\n            Notification({\r\n                title: '警告',\r\n                message: '不能借自己发布的书',\r\n                type: 'warning'\r\n            });\r\n            return\r\n        }\r\n        let temp = Object.assign({}, this.state.form),\r\n            user = this.props.detail;\r\n        temp.user_id = user.user_id;\r\n        temp.book_name = user.book_name;\r\n        temp.lend_userId = JSON.parse(localStorage.getItem('userInfo')).user.id;\r\n        temp.book_id = user.id;\r\n        temp.status = 0;\r\n        addOrders(temp).then(res => {\r\n            if (res) {\r\n                Notification({\r\n                    title: '成功',\r\n                    message: '提交成功，待图书主人审核通过',\r\n                    type: 'success'\r\n                });\r\n                this.setState({\r\n                    dialogVisible: false\r\n                })\r\n            }\r\n        })\r\n    }\r\n    selectChange=(e)=>{\r\n        this.state.form.address = e;\r\n        console.log(e)\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n    }\r\n    onChanges(value) {\r\n        this.setState({ \r\n            sex:value\r\n         });\r\n        this.state.form.sex = value;\r\n\r\n      }\r\n    // 更新表单的值\r\n    onChange(key, value) {\r\n        this.state.form[key] = value;\r\n        this.forceUpdate();\r\n    }\r\n    render() {\r\n        let btn;\r\n        if (this.props.detail.status == 2) {\r\n            btn = (<Button type=\"danger\" className=\"h30\" onClick={this.lendBook}>借阅</Button>)\r\n        } else {\r\n            btn = (<Button type=\"primary\" plain className=\"h30\" >该图书已被其他用户锁定</Button>)\r\n        }\r\n        return (\r\n            <div>\r\n                <RowLayout>\r\n                    <div className=\"breadcrumbs\">     <Breadcrumb separator=\"/\">\r\n                        <Breadcrumb.Item>首页</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>图书详情</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>{this.props.detail.book_name}</Breadcrumb.Item>\r\n                    </Breadcrumb></div>\r\n                    <Card\r\n                        className=\"box-card\"\r\n                        header={\r\n                            <div className=\"clearfix\">\r\n                                <span style={{ \"lineHeight\": \"25px\" }}>图书详情</span>\r\n                                <span style={{ \"float\": \"right\" }}>\r\n                                    <Link to='/'> <Button type=\"primary\" size=\"small\" plain>返回</Button></Link>\r\n                                </span>\r\n                            </div>\r\n                        }\r\n                    >\r\n                        <div className=\"book-detail\">\r\n                            <div className=\"detail-book-info\">\r\n                                <div>\r\n                                    <img className=\"detail-book-img\" alt=\"加载失败\" src={'http://localhost:3000' + this.props.detail.img_url}></img>\r\n                                </div>\r\n                                <div className=\"detail-info\">\r\n                                    <div>图书名称：{this.props.detail.book_name}</div>\r\n                                    <div>图书作者：{this.props.detail.author}</div>\r\n                                    <div>出版社：{this.props.detail.author}</div>\r\n                                    <div>ISBN：{this.props.detail.ISBN}</div>\r\n                                    <div className=\"details\">\r\n                                        图书介绍：{this.props.detail.desc}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex-row\">\r\n                            <div className=\"flex-row avatar-info\">\r\n                                <img className=\"avatar\" src={this.props.user.avatar}></img>\r\n                                <span>{this.props.user.name}</span>\r\n                                <span className=\"ml10 fs14\">上传</span>\r\n                            </div>\r\n\r\n                            <div className=\"lend-btn\">{btn}</div>\r\n                        </div>\r\n                    </Card>\r\n                </RowLayout>\r\n                <Dialog\r\n                    title={this.state.type ? '添加地址' : '编辑地址'}\r\n                    size=\"small\"\r\n                    visible={this.state.dialogVisible}\r\n                    onCancel={() => this.setState({ dialogVisible: false })}\r\n                    lockScroll={false}\r\n                >\r\n                    <Dialog.Body>\r\n                        <Form model={this.state.form} labelWidth=\"80\" onSubmit={this.onSubmit.bind(this)}>\r\n                            <Form.Item label=\"姓名\">\r\n                                <Input value={this.state.form.name} placeholder=\"请输入姓名\" onChange={this.onChange.bind(this, 'name')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"手机号\">\r\n                                <Input value={this.state.form.tell} placeholder=\"请输入手机号\" onChange={this.onChange.bind(this, 'tell')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"性别\">\r\n                                {/* <Input value={this.state.form.sex} onChange={this.onChange.bind(this, 'sex')}></Input> */}\r\n                                <Radio value=\"1\" checked={this.state.sex === 1} onChange={this.onChanges.bind(this)}>男</Radio>\r\n                                <Radio value=\"2\" checked={this.state.sex === 2} onChange={this.onChanges.bind(this)}>女</Radio>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"邮寄地址\">\r\n                                <div className=\"flex-row\">\r\n                                <Select value={this.state.form.address} onChange={this.selectChange.bind(this)} className=\"w100\" placeholder=\"请选择\">\r\n                                    {\r\n                                        this.state.addressList.map(el => {\r\n                                            return (<Select.Option key={el.about} label={el.name+' '+el.about+' '+el.phone} value={el.about} />)\r\n                                        })\r\n                                    }\r\n                                </Select>\r\n                                <Link to=\"/About/3\"><Button>添加地址</Button></Link>\r\n                                </div>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"借书说明\">\r\n                                <Input type=\"textarea\" placeholder=\"请输入借书说明\" value={this.state.form.lend_remark} onChange={this.onChange.bind(this, 'lend_remark')}></Input>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </Dialog.Body>\r\n                    <Dialog.Footer className=\"dialog-footer\">\r\n                        <Button onClick={() => this.setState({ dialogVisible: false })}>取消</Button>\r\n                        <Button type=\"primary\" onClick={this.submit}>确定</Button>\r\n                    </Dialog.Footer>\r\n                </Dialog>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    inputChange = (e) => {\r\n        this.setState({\r\n            msg: e.target.value\r\n        })\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\load.js",[],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\search.js",[],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\api\\index.js",["153"],"import axios from './request'\r\n\r\nlet Axios = axios()\r\n\r\nexport default {\r\n  get (url, params, headers) {\r\n    let options = {}\r\n    if (params) {\r\n      options.params = params\r\n    }\r\n    if (headers) {\r\n      options.headers = headers\r\n    }\r\n    return Axios.get(url, options)\r\n  },\r\n  // 如果要有可能是传data 有可能是跟在url后面\r\n  post (url, data, headers, params) {\r\n    let options = {};\r\n    if (params) {\r\n      options.params = params\r\n    }\r\n\r\n    if (headers) { \r\n      options.headers = headers \r\n    }\r\n    return Axios.post(url, data, options)\r\n  }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\components\\searchInput.js",["154"],"import React, { Component } from 'react'\r\nimport '../assets/css/detail.css'\r\nimport { Input, Button } from 'element-react';\r\nimport {\r\n    browserHistory,\r\n    Link\r\n} from 'react-router-dom';\r\nexport class SearchInput extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            keyword: this.props.plach||''\r\n        }\r\n    }\r\n    getKeyword = () => {\r\n        this.props.parentFn(this.state.keyword)\r\n    }\r\n    render() {\r\n        let btn;\r\n        if(!this.props.plach){\r\n            btn=( <div className=\"ml10\" onClick={this.getKeyword}><Link to={'/SearchBook/'+this.state.keyword}><Button >搜索</Button></Link></div>)\r\n        }else{\r\n            btn=(<div className=\"ml10\" onClick={this.getKeyword}><Button >搜索</Button></div>)\r\n        }\r\n        return (\r\n            <div className=\"flex-row w100\">\r\n                <Input value={this.state.keyword} ref=\"search\" placeholder=\"输入关键字搜索图书\" onChange={this.onChange.bind(this, 'keyword')}></Input>\r\n               {btn}\r\n            </div>\r\n        )\r\n    }\r\n    onChange = (key, value) => {\r\n        this.setState({\r\n            keyword: value\r\n        })\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\api\\request.js",["155"],"import axios from 'axios'  //为他封装一下\r\n// import { Toast } from \"vant\";\r\n\r\n// 创建axios实例\r\nlet service = axios.create({\r\n    timeout: 60000   // 没有得到响应超时限制\r\n})\r\n\r\n// 添加请求拦截器  req 请求  在前端通过 axios 请求的时候 做一些什么事\r\nservice.interceptors.request.use(\r\n    (config) => {\r\n        // cofig -> 请求头\r\n        // 请求发送前进行处理  后端的接口 有的需要携带 token 验证\r\n        // 用户在修改密码 购买商品 登陆会过期\r\n        // config.headers = {'token': localStorage.getItem('token')}\r\n        // Toast.loading({\r\n        //     mask: true,\r\n        //     message: '加载中...',\r\n        //   });\r\n          \r\n        return config\r\n    },\r\n    (error) => {\r\n        // 请求错误处理 如果发现你的请求有误 可以自己定义返回的错误\r\n        // Toast.clear()\r\n        // Toast('请求超时')\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n \r\n// 添加响应拦截器  res 响应 在数据返回之前做一些什么操作\r\nservice.interceptors.response.use(\r\n    (response) => {\r\n        // Toast.clear()\r\n        // let { data } = response;\r\n        \r\n        return response\r\n    },\r\n    (error) => {\r\n        // Toast.clear()\r\n        // Toast('请求超时')\r\n        return Promise.reject(error.response);\r\n    }\r\n)\r\n\r\nexport default function() {\r\n    return service\r\n}","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\address.js",["156","157","158","159"],"import React, { Component } from 'react'\r\nimport { Button } from 'antd';\r\n\r\nimport {Notification,Dialog,Form,Input,Radio} from 'element-react'\r\nimport { getUserAddress,deleteAddress,setAddress,addAddress} from '../api/api'\r\nimport 'antd/dist/antd.css';\r\nimport '../assets/css/address.css'\r\nexport class Address extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            list: [],\r\n            type:true,\r\n            sex:1,\r\n            userInfo:JSON.parse(localStorage.getItem('userInfo')).user,\r\n            dialogVisible:false,\r\n            form:{\r\n                name:'',\r\n                phone:'',\r\n                about:'',\r\n                sex:1\r\n            }\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        this.getList()\r\n    }\r\n    onChanges(value) {\r\n        this.setState({ \r\n            sex:value\r\n         });\r\n        this.state.form.sex = value;\r\n\r\n      }\r\n    getList() {\r\n        let user = JSON.parse(localStorage.getItem('userInfo'))\r\n        getUserAddress({\r\n            userID: user.user.id\r\n        }).then(res => {\r\n            console.log(res)\r\n            this.setState({\r\n                list: res.data\r\n            })\r\n        })\r\n    }\r\n    deleteAddress=(e)=>{\r\n        let id=e.id;\r\n        deleteAddress({id}).then(res=>{\r\n            if(res.data==1){\r\n                Notification({\r\n                    title: '成功',\r\n                    message: '删除成功',\r\n                    type: 'success'\r\n                  });\r\n                  this.getList()\r\n            }\r\n        })\r\n    }\r\n    insertAddress=()=>{\r\n        this.setState({ dialogVisible: true ,type:true,form:{\r\n            name:'',\r\n            phone:'',\r\n            about:''\r\n        }})\r\n    }\r\n    // 编辑按钮\r\n    edit=(e)=>{\r\n        this.setState({\r\n            form:Object.assign({},e),\r\n            sex:e.sex+''\r\n        })\r\n        console.log(this.state.sex)\r\n        this.setState({ dialogVisible: true ,type:false})\r\n    }\r\n    // 确认提交编辑或添加\r\n    submit=()=>{\r\n        let temp={\r\n            data:{}\r\n        };\r\n        temp.data=Object.assign({},this.state.form)\r\n        temp.userID=this.state.userInfo.id;\r\n        if(this.state.type){\r\n            // 添加\r\n            addAddress(temp).then(res=>{\r\n                if(res){\r\n                    Notification({\r\n                        title: '成功',\r\n                        message: '添加成功',\r\n                        type: 'success'\r\n                      });\r\n                }\r\n                this.setState({ dialogVisible: false})\r\n                this.getList()\r\n            })\r\n        }else{\r\n            temp.id= temp.data.id;\r\n            // 编辑\r\n            setAddress(temp).then(res=>{\r\n                if(res){\r\n                    Notification({\r\n                        title: '成功',\r\n                        message: '编辑成功',\r\n                        type: 'success'\r\n                      });\r\n                      this.setState({ dialogVisible: false})\r\n                this.getList()\r\n                }\r\n            })\r\n        }\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n    }\r\n    // 更新表单的值\r\n    onChange(key, value) {\r\n        console.log(key, value)\r\n        this.state.form[key] = value;\r\n        this.forceUpdate();\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Button onClick={this.insertAddress}>添加地址</Button>\r\n                <div className=\"address-list\">\r\n                    {\r\n                        this.state.list.map((item, index) => {\r\n                            return (\r\n                                <div className=\"address-list-item flex-row\">\r\n                                    <div>\r\n                                    <div className=\"address-list-name\">\r\n                                        <span>{item.name}</span>&nbsp;&nbsp;&nbsp;\r\n                                        <span>{item.phone}</span>&nbsp;&nbsp;\r\n                                        <span>{item.sex == 1 ? '男生' : '女生'}</span>\r\n                                    </div>\r\n                                    <div  className=\"address-list-detail\">\r\n                                        {item.about}\r\n                                    </div>\r\n                                    </div>\r\n                                   <div className=\"right-btn\">\r\n                                   <Button className=\"address-edit\" onClick={this.edit.bind(this,item)}>编辑</Button>\r\n                                    <Button danger onClick={this.deleteAddress.bind(this,item)}>删除</Button>\r\n                                   </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                <Dialog\r\n                    title={this.state.type ? '添加地址' : '编辑地址'}\r\n                    size=\"small\"\r\n                    visible={this.state.dialogVisible}\r\n                    onCancel={() => this.setState({ dialogVisible: false })}\r\n                    lockScroll={false}\r\n                >\r\n                    <Dialog.Body>\r\n                        <Form model={this.state.form} labelWidth=\"80\" onSubmit={this.onSubmit.bind(this)}>\r\n                            <Form.Item label=\"姓名\">\r\n                                <Input value={this.state.form.name} onChange={this.onChange.bind(this, 'name')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"手机号\">\r\n                                <Input value={this.state.form.phone} onChange={this.onChange.bind(this, 'phone')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"性别\">\r\n                            <Radio value=\"1\" checked={this.state.sex === '1'} onChange={this.onChanges.bind(this)}>男</Radio>\r\n                                <Radio value=\"2\" checked={this.state.sex === '2'} onChange={this.onChanges.bind(this)}>女</Radio>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"详细地址\">\r\n                                <Input type=\"textarea\" value={this.state.form.about} onChange={this.onChange.bind(this, 'about')}></Input>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </Dialog.Body>\r\n                    <Dialog.Footer className=\"dialog-footer\">\r\n                        <Button onClick={() => this.setState({ dialogVisible: false })}>取消</Button>\r\n                        <Button type=\"primary\" onClick={this.submit}>确定</Button>\r\n                    </Dialog.Footer>\r\n                </Dialog>\r\n            </div>\r\n        )\r\n    }\r\n}","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\myLend.js",["160","161","162","163","164"],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\message.js",["165","166","167","168","169","170"],"import React, { Component } from 'react'\r\n// import '../assets/css/book.css'\r\nimport {\r\n    Link, browserHistory\r\n} from 'react-router-dom';\r\nimport { Table, Button, Dialog, Form, Input,Notification} from 'element-react';\r\nimport { resloveLend } from '../api/api'\r\nexport class Infos extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            meslist: [],\r\n            dialogVisible: false,\r\n            form: {\r\n                desc: ''\r\n            },\r\n            detail:{},\r\n            user: JSON.parse(localStorage.getItem('userInfo')).user,\r\n            columns: [\r\n                {\r\n                    type: 'index'\r\n                },\r\n                {\r\n                    label: \"图书名称\",\r\n                    prop: \"book_name\",\r\n                    align: 'center',\r\n                    width: 160,\r\n                    render: function (data) {\r\n                        return <span>{data.book_name}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"借书申请人\",\r\n                    prop: \"user\",\r\n                    align: 'center',\r\n                    width: 160,\r\n                    render: function (data) {\r\n                        return <span>{data.user.name}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"邮寄的地址\",\r\n                    prop: \"address\",\r\n                    align: 'center',\r\n                    render: function (data) {\r\n                        return <span>{data.address}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"申请人留言\",\r\n                    prop: \"remask\",\r\n                    align: 'center',\r\n                    width: 160,\r\n                    render: function (data) {\r\n                        return <span>{data.lend_remark}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"我的备注\",\r\n                    prop: \"lend_remark\",\r\n                    align: 'center',\r\n                    render: function (data) {\r\n                        return <span>{data.remask ? data.remark : '空或未回复'}</span>\r\n                    }\r\n                },\r\n\r\n                {\r\n                    label: \"状态\",\r\n                    prop: \"status\",\r\n                    align: 'center',\r\n                    render: function (data) {\r\n                        return <span>{data.status == 0 ? '待审核' : data.status == 1 ? '审核通过' : '拒绝借书'}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"操作\",\r\n                    prop: \"address\",\r\n                    align: 'center',\r\n                    fixed: 'right',\r\n                    width: 260,\r\n                    render: (data) => {\r\n                        let html;\r\n                        if (data.status == 0) {\r\n                            html = (\r\n                                <Button type=\"primary\" onClick={this.showDetail.bind(this, data)} size=\"small\">审批</Button>\r\n                            )\r\n                        } else {\r\n                            <Button plain={true} type=\"info\" size=\"small\">已处理</Button>\r\n                        }\r\n                        return (\r\n                            <span>\r\n                                {html}\r\n                            </span>\r\n                        )\r\n                    }\r\n                }\r\n            ],\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n\r\n    }\r\n    showDetail = (e) => {\r\n        this.setState({\r\n            detail:e,\r\n            dialogVisible: true\r\n        })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    onChange(key, value) {\r\n        this.state.form[key] = value;\r\n        this.forceUpdate();\r\n    }\r\n    submit = () => {\r\n        let data={\r\n            status:5,\r\n            book_id:this.state.detail.book_id,\r\n            statusId:1,\r\n            remark:this.state.form.desc\r\n        }\r\n        this.resloveLend(data)\r\n        this.props.getLend()\r\n    }\r\n    refusLend=()=>{\r\n        let data={\r\n            status:2,\r\n            book_id:this.state.detail.book_id,\r\n            statusId:2,\r\n            remark:this.state.form.desc\r\n        }\r\n        this.resloveLend(data)\r\n        \r\n    }\r\n    resloveLend=(data)=>{\r\n        resloveLend(data).then(res=>{\r\n            this.setState({\r\n                dialogVisible:false\r\n            })\r\n            Notification({\r\n                title: '成功',\r\n                message: '处理成功,请刷新页面',\r\n                type: 'success'\r\n              });\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <Table\r\n                        style={{ width: '100%' }}\r\n                        columns={this.state.columns}\r\n                        data={this.props.myLends}\r\n                        border={true}\r\n                        height=\"70vh\"\r\n                        highlightCurrentRow={true}\r\n                        onCurrentChange={item => { console.log(item) }}\r\n                    />\r\n                    <Dialog\r\n                        title='审批申请'\r\n                        size=\"small\"\r\n                        visible={this.state.dialogVisible}\r\n                        onCancel={() => this.setState({ dialogVisible: false })}\r\n                        lockScroll={false}\r\n                    >\r\n                        <Dialog.Body>\r\n                            <Form model={this.state.form} labelWidth=\"80\" onSubmit={this.onSubmit.bind(this)}>\r\n                                <Form.Item label=\"备注\">\r\n                                    <Input type=\"textarea\" placeholder=\"请输入备注\" value={this.state.form.desc} onChange={this.onChange.bind(this, 'desc')}></Input>\r\n                                    <div className=\"tips\">提示：输入拒绝借出的理由或备注说明；输入邮费付款方式，联系方式，还书事项等</div>\r\n                                </Form.Item>\r\n                            </Form>\r\n                        </Dialog.Body>\r\n                        <Dialog.Footer className=\"dialog-footer\">\r\n                            <Button type=\"primary\" onClick={this.submit}>同意借出</Button>\r\n                            <Button type=\"danger\" onClick={this.refusLend}>拒绝借出</Button>\r\n                            <Button onClick={() => this.setState({ dialogVisible: false })}>关闭</Button>\r\n                        </Dialog.Footer>\r\n                    </Dialog>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\mesMgr.js",["171","172","173"],"import React, { Component } from 'react'\r\n// import '../assets/css/book.css'\r\n// import {\r\n//     Link\r\n// } from 'react-router-dom';\r\n\r\nimport { Breadcrumb, Tag, Button, Table } from 'element-react';\r\n\r\n\r\nexport class MgrMes extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            uid: JSON.parse(localStorage.getItem('userInfo')).user.id,\r\n            columns: [\r\n                {\r\n                    type: 'index'\r\n                },\r\n                {\r\n                    label: \"类型\",\r\n                    prop: \"status\",\r\n                    align: 'center',\r\n                    width: 100,\r\n                    render: function (e) {\r\n                        var btn;\r\n                        if (e.user_id === JSON.parse(localStorage.getItem('userInfo')).user.id) {\r\n                            btn = (\r\n                                <Tag type=\"danger\">借书申请</Tag>\r\n                            )\r\n                        } else {\r\n                            btn = (\r\n                                <Tag type=\"primary\">我的申请</Tag>\r\n                            )\r\n                        }\r\n                        return <span>{btn}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"图书名字\",\r\n                    prop: \"book_name\",\r\n                    align: 'center',\r\n                    width: 160,\r\n                    render: function (data) {\r\n                        return <span>{data.book_name}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"申请人备注\",\r\n                    prop: \"lend_remark\",\r\n                    align: 'center',\r\n                    width: 160,\r\n                    render: function (data) {\r\n                        return <span>{data.lend_remark}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"审批者备注\",\r\n                    prop: \"remask\",\r\n                    align: 'center',\r\n                    width: 160,\r\n                    render: function (data) {\r\n                        return <span>{data.remask}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"申请时间\",\r\n                    prop: \"apply_time\",\r\n                    align: 'center',\r\n                    width: 160,\r\n                    render: function (data) {\r\n                        return <span>{data.apply_time}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"审批时间\",\r\n                    prop: \"review_time\",\r\n                    align: 'center',\r\n                    width: 160,\r\n                    render: function (data) {\r\n                        return <span>{data.review_time}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"申请人\",\r\n                    prop: \"address\",\r\n                    align: 'center',\r\n                    render: function (data) {\r\n                        let content;\r\n                        if (data.lend_userId === JSON.parse(localStorage.getItem('userInfo')).user.id) {\r\n                            content = '-'\r\n                        } else {\r\n                            content = data.name\r\n                        }\r\n                        return <span>{content}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"审批人\",\r\n                    prop: \"status\",\r\n                    align: 'center',\r\n                    render: function (data) {\r\n                        let content;\r\n                        if (data.user_id === JSON.parse(localStorage.getItem('userInfo')).user.id) {\r\n                            content = '-'\r\n                        } else {\r\n                            content = data.user.name\r\n                        }\r\n                        return <span>{content}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"状态\",\r\n                    prop: \"status\",\r\n                    align: 'center',\r\n                    render: function (data) {\r\n                        return <span>{data.status == 0 ? '待审核' : data.status == 1 ? '审核通过' : '拒绝借书'}</span>\r\n                    }\r\n                },\r\n                {\r\n                    label: \"操作\",\r\n                    prop: \"address\",\r\n                    align: 'center',\r\n                    fixed: 'right',\r\n                    width: 260,\r\n                    render: (data) => {\r\n                        let content;\r\n                        if (data.user_id === JSON.parse(localStorage.getItem('userInfo')).user.id) {\r\n                            content = (\r\n                                <Button  type=\"primary\" onClick={this.toReview.bind(this, data)} size=\"small\">去审批</Button>\r\n                            )\r\n                        } else {\r\n                            content = ( <Button plain={true} type=\"info\" onClick={this.showDetail.bind(this, data)} size=\"small\">查看申请</Button>)\r\n                        }\r\n                        return (\r\n                            <span>\r\n                               {content}\r\n                            </span>\r\n                        )\r\n                    }\r\n                }\r\n            ],\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n\r\n    }\r\n    showDetail = (e) => {\r\n        console.log(e)\r\n        this.props.changeTab('2')\r\n\r\n    }\r\n    toReview=()=>{\r\n        this.props.changeTab('mes')\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Table\r\n                    style={{ width: '100%' }}\r\n                    columns={this.state.columns}\r\n                    data={this.props.allMes}\r\n                    border={true}\r\n                    height=\"70vh\"\r\n                    highlightCurrentRow={true}\r\n                    onCurrentChange={item => { console.log(item) }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\search.js",[],"C:\\Users\\Administrator\\Desktop\\1221\\my-app\\src\\view\\lendBook.js",["174","175","176","177","178","179"],{"ruleId":"180","replacedBy":"181"},{"ruleId":"182","replacedBy":"183"},{"ruleId":"184","severity":1,"message":"185","line":4,"column":5,"nodeType":"186","messageId":"187","endLine":4,"endColumn":9},{"ruleId":"184","severity":1,"message":"188","line":7,"column":64,"nodeType":"186","messageId":"187","endLine":7,"endColumn":67},{"ruleId":"184","severity":1,"message":"189","line":7,"column":69,"nodeType":"186","messageId":"187","endLine":7,"endColumn":73},{"ruleId":"184","severity":1,"message":"190","line":7,"column":90,"nodeType":"186","messageId":"187","endLine":7,"endColumn":98},{"ruleId":"184","severity":1,"message":"191","line":7,"column":100,"nodeType":"186","messageId":"187","endLine":7,"endColumn":105},{"ruleId":"184","severity":1,"message":"192","line":7,"column":107,"nodeType":"186","messageId":"187","endLine":7,"endColumn":113},{"ruleId":"184","severity":1,"message":"193","line":7,"column":115,"nodeType":"186","messageId":"187","endLine":7,"endColumn":122},{"ruleId":"194","severity":1,"message":"195","line":93,"column":50,"nodeType":"196","messageId":"197","endLine":93,"endColumn":52},{"ruleId":"194","severity":1,"message":"195","line":93,"column":70,"nodeType":"196","messageId":"197","endLine":93,"endColumn":72},{"ruleId":"194","severity":1,"message":"195","line":106,"column":133,"nodeType":"196","messageId":"197","endLine":106,"endColumn":135},{"ruleId":"184","severity":1,"message":"198","line":133,"column":13,"nodeType":"186","messageId":"187","endLine":133,"endColumn":17},{"ruleId":"194","severity":1,"message":"195","line":186,"column":28,"nodeType":"196","messageId":"197","endLine":186,"endColumn":30},{"ruleId":"194","severity":1,"message":"195","line":200,"column":20,"nodeType":"196","messageId":"197","endLine":200,"endColumn":22},{"ruleId":"194","severity":1,"message":"195","line":209,"column":24,"nodeType":"196","messageId":"197","endLine":209,"endColumn":26},{"ruleId":"194","severity":1,"message":"195","line":237,"column":28,"nodeType":"196","messageId":"197","endLine":237,"endColumn":30},{"ruleId":"199","severity":1,"message":"200","line":248,"column":9,"nodeType":"201","endLine":248,"endColumn":24},{"ruleId":"184","severity":1,"message":"202","line":315,"column":13,"nodeType":"186","messageId":"187","endLine":315,"endColumn":17},{"ruleId":"184","severity":1,"message":"203","line":8,"column":10,"nodeType":"186","messageId":"187","endLine":8,"endColumn":20},{"ruleId":"184","severity":1,"message":"185","line":3,"column":5,"nodeType":"186","messageId":"187","endLine":3,"endColumn":9},{"ruleId":"184","severity":1,"message":"204","line":8,"column":10,"nodeType":"186","messageId":"187","endLine":8,"endColumn":14},{"ruleId":"184","severity":1,"message":"205","line":8,"column":16,"nodeType":"186","messageId":"187","endLine":8,"endColumn":21},{"ruleId":"184","severity":1,"message":"203","line":8,"column":31,"nodeType":"186","messageId":"187","endLine":8,"endColumn":41},{"ruleId":"184","severity":1,"message":"206","line":12,"column":17,"nodeType":"186","messageId":"187","endLine":12,"endColumn":28},{"ruleId":"184","severity":1,"message":"207","line":12,"column":29,"nodeType":"186","messageId":"187","endLine":12,"endColumn":33},{"ruleId":"184","severity":1,"message":"208","line":15,"column":8,"nodeType":"186","messageId":"187","endLine":15,"endColumn":13},{"ruleId":"184","severity":1,"message":"209","line":37,"column":13,"nodeType":"186","messageId":"187","endLine":37,"endColumn":16},{"ruleId":"210","severity":1,"message":"211","line":103,"column":45,"nodeType":"212","endLine":103,"endColumn":84},{"ruleId":"184","severity":1,"message":"213","line":6,"column":5,"nodeType":"186","messageId":"187","endLine":6,"endColumn":19},{"ruleId":"194","severity":1,"message":"195","line":93,"column":37,"nodeType":"196","messageId":"197","endLine":93,"endColumn":39},{"ruleId":"184","severity":1,"message":"214","line":9,"column":10,"nodeType":"186","messageId":"187","endLine":9,"endColumn":16},{"ruleId":"184","severity":1,"message":"203","line":9,"column":23,"nodeType":"186","messageId":"187","endLine":9,"endColumn":33},{"ruleId":"184","severity":1,"message":"215","line":10,"column":10,"nodeType":"186","messageId":"187","endLine":10,"endColumn":34},{"ruleId":"184","severity":1,"message":"216","line":2,"column":16,"nodeType":"186","messageId":"187","endLine":2,"endColumn":26},{"ruleId":"184","severity":1,"message":"213","line":5,"column":5,"nodeType":"186","messageId":"187","endLine":5,"endColumn":19},{"ruleId":"194","severity":1,"message":"195","line":60,"column":65,"nodeType":"196","messageId":"197","endLine":60,"endColumn":67},{"ruleId":"199","severity":1,"message":"200","line":89,"column":9,"nodeType":"201","endLine":89,"endColumn":24},{"ruleId":"199","severity":1,"message":"200","line":99,"column":9,"nodeType":"201","endLine":99,"endColumn":24},{"ruleId":"199","severity":1,"message":"200","line":104,"column":9,"nodeType":"201","endLine":104,"endColumn":24},{"ruleId":"194","severity":1,"message":"195","line":109,"column":38,"nodeType":"196","messageId":"197","endLine":109,"endColumn":40},{"ruleId":"210","severity":1,"message":"211","line":151,"column":33,"nodeType":"212","endLine":151,"endColumn":86},{"ruleId":"217","severity":1,"message":"218","line":5,"column":1,"nodeType":"219","endLine":28,"endColumn":2},{"ruleId":"184","severity":1,"message":"213","line":5,"column":5,"nodeType":"186","messageId":"187","endLine":5,"endColumn":19},{"ruleId":"217","severity":1,"message":"220","line":46,"column":1,"nodeType":"219","endLine":48,"endColumn":2},{"ruleId":"199","severity":1,"message":"200","line":32,"column":9,"nodeType":"201","endLine":32,"endColumn":24},{"ruleId":"194","severity":1,"message":"195","line":49,"column":24,"nodeType":"196","messageId":"197","endLine":49,"endColumn":26},{"ruleId":"199","severity":1,"message":"200","line":117,"column":9,"nodeType":"201","endLine":117,"endColumn":24},{"ruleId":"194","severity":1,"message":"195","line":133,"column":57,"nodeType":"196","messageId":"197","endLine":133,"endColumn":59},{"ruleId":"194","severity":1,"message":"195","line":76,"column":51,"nodeType":"196","messageId":"197","endLine":76,"endColumn":53},{"ruleId":"194","severity":1,"message":"195","line":76,"column":78,"nodeType":"196","messageId":"197","endLine":76,"endColumn":80},{"ruleId":"194","severity":1,"message":"195","line":87,"column":39,"nodeType":"196","messageId":"197","endLine":87,"endColumn":41},{"ruleId":"194","severity":1,"message":"195","line":121,"column":30,"nodeType":"196","messageId":"197","endLine":121,"endColumn":32},{"ruleId":"199","severity":1,"message":"200","line":151,"column":9,"nodeType":"201","endLine":151,"endColumn":24},{"ruleId":"184","severity":1,"message":"185","line":4,"column":5,"nodeType":"186","messageId":"187","endLine":4,"endColumn":9},{"ruleId":"184","severity":1,"message":"213","line":4,"column":11,"nodeType":"186","messageId":"187","endLine":4,"endColumn":25},{"ruleId":"194","severity":1,"message":"195","line":73,"column":51,"nodeType":"196","messageId":"197","endLine":73,"endColumn":53},{"ruleId":"194","severity":1,"message":"195","line":73,"column":78,"nodeType":"196","messageId":"197","endLine":73,"endColumn":80},{"ruleId":"194","severity":1,"message":"195","line":84,"column":41,"nodeType":"196","messageId":"197","endLine":84,"endColumn":43},{"ruleId":"199","severity":1,"message":"200","line":116,"column":9,"nodeType":"201","endLine":116,"endColumn":24},{"ruleId":"184","severity":1,"message":"203","line":7,"column":10,"nodeType":"186","messageId":"187","endLine":7,"endColumn":20},{"ruleId":"194","severity":1,"message":"195","line":117,"column":51,"nodeType":"196","messageId":"197","endLine":117,"endColumn":53},{"ruleId":"194","severity":1,"message":"195","line":117,"column":78,"nodeType":"196","messageId":"197","endLine":117,"endColumn":80},{"ruleId":"184","severity":1,"message":"185","line":4,"column":5,"nodeType":"186","messageId":"187","endLine":4,"endColumn":9},{"ruleId":"184","severity":1,"message":"213","line":4,"column":11,"nodeType":"186","messageId":"187","endLine":4,"endColumn":25},{"ruleId":"184","severity":1,"message":"221","line":6,"column":25,"nodeType":"186","messageId":"187","endLine":6,"endColumn":31},{"ruleId":"184","severity":1,"message":"222","line":6,"column":33,"nodeType":"186","messageId":"187","endLine":6,"endColumn":37},{"ruleId":"184","severity":1,"message":"205","line":6,"column":39,"nodeType":"186","messageId":"187","endLine":6,"endColumn":44},{"ruleId":"194","severity":1,"message":"195","line":94,"column":39,"nodeType":"196","messageId":"197","endLine":94,"endColumn":41},"no-native-reassign",["223"],"no-negated-in-lhs",["224"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Tag' is defined but never used.","'Icon' is defined but never used.","'Checkbox' is defined but never used.","'Radio' is defined but never used.","'Upload' is defined but never used.","'Message' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'info' is assigned a value but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","'book' is assigned a value but never used.","'Breadcrumb' is defined but never used.","'Menu' is defined but never used.","'Input' is defined but never used.","'getComments' is defined but never used.","'isbn' is defined but never used.","'jsonp' is defined but never used.","'api' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'browserHistory' is defined but never used.","'Layout' is defined but never used.","'BOOLEAN_BINARY_OPERATORS' is defined but never used.","'MessageBox' is defined but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","Unexpected default export of anonymous function","'Dialog' is defined but never used.","'Form' is defined but never used.","no-global-assign","no-unsafe-negation"]